title: 环形轨道加油站问题
date: 2010-01-08
author: denglf
layout: post
categories: [DataStruct]
tags: [图论, 算法]
---
今天在网上看到一个智力题，觉得很有意思，题目如下：
<!--more-->
一个环形轨道上有n个加油站，所有加油站的油量总和正好够车跑一圈。证明，总能找到其中一个加油站，使得初始时油箱为空的汽车从这里出发，能够顺利环行一圈回到起点。

初看这个题，涉及到证明，二话不说，拿起笔就写公式。但写完发现，既然是一个环，画个坐标图分析不更容易。

先假设加油站有4个，油量分别是5、2、1、3，两站之间的耗油量分别是3、5、2、1，上图先：

![加油站分布图](/images/2010-01-08-circular-orbit-gas-station-problem/map.png)

假设从5开始开车，则汽车剩余油量依次分别为0、2、-1、-2，坐标图如下（横坐标代表汽车油量变化的步骤，曲线代表汽车油量的变化趋势）：

![油量变化图](/images/2010-01-08-circular-orbit-gas-station-problem/oil.png)

上图显示汽车绕环跑3圈剩余油量的变化，从图中可以看出该曲线是周期函数的曲线。那么我们要保证汽车顺利跑完一圈，只要保证这个剩余油量函数的值横大于等于0。

所以将曲线的最低点作为汽车的起点，而起点的油量是0，所有的剩余油量都会大于等于0 了，选择以步骤4为起始点到步骤12之间的曲线，曲线图变成：

![油量变化曲线图](/images/2010-01-08-circular-orbit-gas-station-problem/oil1.png)

这样就能顺利跑完全程了，起点为3，剩余油量依次分别是0、2、4、1。

不管这个曲线怎么构造，至少存在一个最低点使剩余油量大于等于0，所以总能找到其中一个加油站，使得初始时油箱为空的汽车从这里出发，能够顺利环行一圈回到起点。

现在看到一些数学题和智力题我都先考虑能不能用图论的方式解决，数学本是源于大自然，图是最直观明了的。
